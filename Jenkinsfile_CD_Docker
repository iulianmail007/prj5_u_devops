pipeline {
  agent {
    dockerfile true
  }
    stages {
           

    stage('Lint') {
    
      input{
		message "Press Ok-Proceed to continue"
		submitter "FN"
		parameters {
			string(name:'releaseid', description: 'Relese to be build')
		}
	}
	
      steps {
        
        sh "echo ${releaseid}"
        
        sh 'tidy -q -e *.html'
      }
    }


    stage('hadolint') {
      steps {
        sh 'hadolint Dockerfile'
      }
    }
  
  
      stage('docker build') {
      steps {
        def customImage = docker.build("my-image:${releaseid}")
      }
    }

 
  }
}
